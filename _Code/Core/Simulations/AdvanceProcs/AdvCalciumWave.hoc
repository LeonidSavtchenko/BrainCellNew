
// Sets ip3i to soma and dendrites.
proc advance() {
    fadvance()
    
    if ((t > TimeDelayCaWave) && (t < TimeDelayCaWave+15000)) {
        setIp3ToSomaAndDendrites(InitIp3)
    } else {
        // setIp3ToSomaAndDendrites(0.0000001)
    }
}

proc setIp3ToSomaAndDendrites() { local ip3Value
    ip3Value = $1
    
    for eachSecInList(soma_ref, dendrite_ref) {
        ip3i = ip3Value
    }
}
